#include "terminal.h"
#include "ui_terminal.h"

Terminal::Terminal(QString to_who, QWidget *parent) : QDialog(parent), ui(new Ui::Terminal)
{
    ui->setupUi(this);
    this->to_who = to_who;
}

Terminal::~Terminal()
{
    delete ui;
}

void Terminal::on_plainTextEdit_blockCountChanged(int newBlockCount) // newBlockCount start from 1
{
    QString Text = ui->plainTextEdit->toPlainText();
    QString command;
    QStringList lines = Text.split("\n");
    command = lines[newBlockCount - 2];
    emit new_command(this->to_who, command);
}

void Terminal::set_text(QString text)
{
    QString plain_text = ui->textBrowser->toPlainText();
    plain_text += (text + "\n");
    ui->textBrowser->setPlainText(plain_text);
}